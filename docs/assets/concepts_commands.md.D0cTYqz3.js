import{_ as i,o as a,c as n,ae as e}from"./chunks/framework.0YMjjS-n.js";const k=JSON.parse('{"title":"Commands","description":"","frontmatter":{},"headers":[],"relativePath":"concepts/commands.md","filePath":"concepts/commands.md"}'),t={name:"concepts/commands.md"};function o(l,s,h,r,d,p){return a(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="commands" tabindex="-1">Commands <a class="header-anchor" href="#commands" aria-label="Permalink to &quot;Commands&quot;">​</a></h1><p><strong>Commands</strong> are named actions with handlers. They are registered with <code>registerAll</code> (or <code>commandRegistry.registerCommand</code> / <code>registerHandler</code>) and referenced by toolbars, menus, the command palette, and AI.</p><h2 id="registration" tabindex="-1">Registration <a class="header-anchor" href="#registration" aria-label="Permalink to &quot;Registration&quot;">​</a></h2><p>Use <code>registerAll</code> with a command descriptor and handler:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { registerAll } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@kispace-io/core&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">registerAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  command: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myext.save&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Save&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    description: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Saves the current document&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  handler: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // run the action; context.params, context.activeEditor, etc.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    canExecute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> booleanOrComputed, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// optional</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><ul><li><strong>command</strong> — Object with <code>id</code>, <code>name</code>, <code>description</code>; optional <code>parameters</code>, <code>output</code>, <code>llm</code> for AI.</li><li><strong>handler</strong> — Object with <code>execute(context)</code> and optional <code>canExecute(context)</code>. When <code>canExecute</code> returns false, the command is disabled in UI (e.g. toolbar button greyed out).</li><li><strong>contribution</strong> — Optional. If provided with <code>target</code>, registers a command contribution to that target (e.g. toolbar) in one call.</li></ul><h2 id="using-commands-in-ui" tabindex="-1">Using commands in UI <a class="header-anchor" href="#using-commands-in-ui" aria-label="Permalink to &quot;Using commands in UI&quot;">​</a></h2><p>Toolbar buttons and menu items use <strong>command contributions</strong>: you register a contribution with <code>command: &#39;command.id&#39;</code>. The framework binds the button to the command and runs the handler on click.</p><h2 id="execution" tabindex="-1">Execution <a class="header-anchor" href="#execution" aria-label="Permalink to &quot;Execution&quot;">​</a></h2><p>Commands can be run programmatically or via:</p><ul><li>Toolbar/menu (through command contributions).</li><li>Command palette (extension).</li><li>AI system (extension).</li></ul><p>See <a href="/docs/guide/add-command-toolbar.html">Add a command and toolbar button</a>.</p>`,12)])])}const E=i(t,[["render",o]]);export{k as __pageData,E as default};
